(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63670f3f"],{"018e":function(e,t,n){},"15c4":function(e,t,n){},"1fe7":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[],l={name:"SysCfg"},s=l,o=n("5d22"),c=Object(o["a"])(s,i,a,!1,null,"788998aa",null);t["default"]=c.exports},"23db":function(e,t,n){"use strict";var i=n("e450"),a=n("bfff"),l=n("599d"),s=n("a4fc"),o=n("eb35"),c=n("9f0d"),r=n("f342"),d=n("529c"),u=d("splice"),p=Math.max,f=Math.min,m=9007199254740991,h="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var n,i,d,u,v,b,y=o(this),g=s(y.length),x=a(e,g),_=arguments.length;if(0===_?n=i=0:1===_?(n=0,i=g-x):(n=_-2,i=f(p(l(t),0),g-x)),g+n-i>m)throw TypeError(h);for(d=c(y,i),u=0;u<i;u++)v=x+u,v in y&&r(d,u,y[v]);if(d.length=i,n<i){for(u=x;u<g-i;u++)v=u+i,b=u+n,v in y?y[b]=y[v]:delete y[b];for(u=g;u>g-i+n;u--)delete y[u-1]}else if(n>i)for(u=g-i;u>x;u--)v=u+i-1,b=u+n-1,v in y?y[b]=y[v]:delete y[b];for(u=0;u<n;u++)y[u+x]=arguments[u+2];return y.length=g-i+n,d}})},"2d34":function(e,t,n){var i=n("e08f"),a=n("9326"),l="["+a+"]",s=RegExp("^"+l+l+"*"),o=RegExp(l+l+"*$"),c=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"3f4c":function(e,t,n){"use strict";n("15c4")},"3f7e":function(e,t,n){"use strict";var i=n("e450"),a=n("a3e7").filter,l=n("529c"),s=l("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4fa4":function(e,t,n){},"57d2":function(e,t,n){"use strict";var i=n("e450"),a=n("2d34").trim,l=n("a43d");i({target:"String",proto:!0,forced:l("trim")},{trim:function(){return a(this)}})},"66b4":function(e,t,n){var i={"./SysAdmin.vue":"f86b","./SysBasic.vue":"8d67","./SysCfg.vue":"1fe7","./SysData.vue":"d1e3","./SysInit.vue":"8608","./SysLog.vue":"864e"};function a(e){var t=l(e);return n(t)}function l(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=l,e.exports=a,a.id="66b4"},"6c16":function(e,t,n){"use strict";n("d446")},8608:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[],l={name:"SysInit"},s=l,o=n("5d22"),c=Object(o["a"])(s,i,a,!1,null,"06480b3f",null);t["default"]=c.exports},"864e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[],l={name:"SysLog"},s=l,o=n("5d22"),c=Object(o["a"])(s,i,a,!1,null,"4e5360aa",null);t["default"]=c.exports},"8d67":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"部门管理",name:"depmana"}},[n("DepMana")],1),n("el-tab-pane",{attrs:{label:"职位管理",name:"posmana"}},[n("pos-mana")],1),n("el-tab-pane",{attrs:{label:"职称管理",name:"joblevelmana"}},[n("joblevel-mana")],1),n("el-tab-pane",{attrs:{label:"奖惩规则",name:"ecmana"}},[n("EcMana")],1),n("el-tab-pane",{attrs:{label:"权限组",name:"permissmana"}},[n("permiss-mana")],1)],1)],1)},a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"500px"}},[n("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"输入关键字进行部门过滤..."},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("el-tree",{ref:"tree",attrs:{data:e.deptData,props:e.defaultProps,"default-expand-all":"","filter-node-method":e.filterNode,"expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return n("span",{staticClass:"custom-tree-node",staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[n("span",[e._v(e._s(i.name))]),n("span",[n("el-button",{staticClass:"btnStyle",attrs:{type:"primary",size:"mini"},on:{click:function(){return e.showAdd(i)}}},[e._v(" 添加部门 ")]),n("el-button",{staticClass:"btnStyle",attrs:{type:"danger",size:"mini"},on:{click:function(){return e.deleteDept(i)}}},[e._v(" 删除部门 ")])],1)])}}])}),n("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("table",[n("tr",[n("td",[n("el-tag",[e._v("上级部门")])],1),n("td",[e._v(e._s(e.pName))])]),n("tr",[n("td",[n("el-tag",[e._v("部门名称")])],1),n("td",[n("el-input",{attrs:{placeholder:"请输入部门名称..."},model:{value:e.dept.name,callback:function(t){e.$set(e.dept,"name",t)},expression:"dept.name"}})],1)])])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.addDept}},[e._v("确 定")])],1)])],1)},s=[],o=(n("3f7e"),n("f5bd"),n("57d2"),{name:"DepMana",data:function(){return{filterText:"",deptData:[],defaultProps:{children:"children",label:"name"},dialogVisible:!1,dept:{name:"",parentId:-1},pName:""}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){this.initDept()},methods:{showAdd:function(e){this.dept.parentId=e.id,this.pName=e.name,this.dialogVisible=!0},addDept:function(){var e=this;this.postRequest("/system/basic/department/add",this.dept).then((function(t){t&&(e.initDept(),e.dept={},e.pName="",e.dialogVisible=!1)}))},deleteDept:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/department/delete/"+e.id).then((function(e){e&&t.initDept()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e.trim())},initDept:function(){var e=this;this.getRequest("/system/basic/department/listAll").then((function(t){t&&(e.deptData=t)}))}}}),c=o,r=(n("3f4c"),n("5d22")),d=Object(r["a"])(c,l,s,!1,null,"4e1959a4",null),u=d.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},f=[],m={name:"EcMana"},h=m,v=Object(r["a"])(h,p,f,!1,null,"71169858",null),b=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"permissionManaTool"},[n("el-input",{attrs:{size:"small",placeholder:"请输入英文名"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addRole.apply(null,arguments)}},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},[n("template",{slot:"prepend"},[e._v("ROLE_")])],2),n("el-input",{attrs:{size:"small",placeholder:"请输入中文名"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addRole.apply(null,arguments)}},model:{value:e.role.nameZh,callback:function(t){e.$set(e.role,"nameZh",t)},expression:"role.nameZh"}}),n("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addRole}},[e._v("添加角色")])],1),n("div",{staticClass:"permissionManaMain"},[n("el-collapse",{attrs:{accordion:""},on:{change:e.change},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.roles,(function(t,i){return n("el-collapse-item",{key:i,attrs:{title:t.nameZh,name:t.id}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("可访问资源")]),n("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(n){return e.deleteRole(t)}}})],1),n("div",[n("el-tree",{key:i,ref:"tree",refInFor:!0,attrs:{"show-checkbox":"",data:e.menus,props:e.defaultProps,"default-checked-keys":e.selectedMenus,"node-key":"id"}}),n("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[n("el-button",{attrs:{size:"mini"},on:{click:e.cancelUpdate}},[e._v("取消修改")]),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){return e.doUpdate(t.id,i)}}},[e._v("确认修改")])],1)],1)])],1)})),1)],1)])},g=[],x=(n("6afd"),{name:"PermissMana",data:function(){return{role:{name:"",nameZh:""},roles:[],menus:[],defaultProps:{children:"children",label:"name"},selectedMenus:[],activeName:-1}},mounted:function(){this.initRoles()},methods:{deleteRole:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.nameZh+"】角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/permiss/delete/"+e.id).then((function(e){e&&t.initRoles()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addRole:function(){var e=this;this.role.name&&this.role.nameZh?this.postRequest("/system/basic/permiss/add/",this.role).then((function(t){t&&(e.initRoles(),e.role={})})):this.$message.error("所有内容不能为空！")},cancelUpdate:function(){this.activeName=-1},doUpdate:function(e,t){var n=this,i=this.$refs.tree[t],a=i.getCheckedKeys(!0),l="/system/basic/permiss/updateMenuRole/?rid="+e;a.forEach((function(e){l+="&mids="+e})),this.putRequest(l).then((function(e){e&&(n.initRoles(),n.activeName=-1)}))},initSelectedMenus:function(e){var t=this;this.getRequest("/system/basic/permiss/mid/"+e).then((function(e){e&&(t.selectedMenus=e)}))},change:function(e){e&&(this.initMenus(),this.initSelectedMenus(e))},initMenus:function(){var e=this;this.getRequest("/system/basic/permiss/menus").then((function(t){t&&(e.menus=t)}))},initRoles:function(){var e=this;this.getRequest("/system/basic/permiss/listAll").then((function(t){t&&(e.roles=t)}))}}}),_=x,k=(n("b7c3"),Object(r["a"])(_,y,g,!1,null,"723cd408",null)),w=k.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticClass:"addPosInput",attrs:{size:"small",placeholder:"添加职位","suffix-icon":"el-icon-plus"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addPosition.apply(null,arguments)}},model:{value:e.pos.name,callback:function(t){e.$set(e.pos,"name",t)},expression:"pos.name"}}),n("el-switch",{staticStyle:{margin:"0 10px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"暂不启用"},model:{value:e.pos.enabled,callback:function(t){e.$set(e.pos,"enabled",t)},expression:"pos.enabled"}}),n("el-button",{attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:e.addPosition}},[e._v("添加")])],1),n("div",{staticClass:"posManaMain"},[n("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.positions,stripe:"",border:""},on:{"selection-change":e.handleSelectionChange}},[e._v("> "),n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"职位",width:"150"}}),n("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"150"}}),n("el-table-column",{attrs:{prop:"enabled",label:"是否启用",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):n("el-tag",{attrs:{type:"danger"}},[e._v("未启用")])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.showEditView(t.$index,t.row)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"8px","margin-inside":"30px"},attrs:{type:"danger",size:"small",disabled:0===this.multipleSelection.length},on:{click:e.deleteBatch}},[e._v(" 批量删除 ")])],1),n("el-dialog",{attrs:{title:"职位编辑",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("table",[n("tr",[n("td",[n("el-tag",[e._v("职位名称:")])],1),n("td",[n("el-input",{staticClass:"updatePosInput",attrs:{size:"small"},model:{value:e.updatePos.name,callback:function(t){e.$set(e.updatePos,"name",t)},expression:"updatePos.name"}})],1)]),n("tr",[n("td",[n("el-tag",[e._v("是否启用:")])],1),n("td",[n("el-switch",{staticStyle:{"margin-left":"10px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"暂不启用"},model:{value:e.updatePos.enabled,callback:function(t){e.$set(e.updatePos,"enabled",t)},expression:"updatePos.enabled"}})],1)])])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},S=[],$={name:"PosMana",data:function(){return{pos:{name:"",enabled:""},updatePos:{name:"",enabled:""},positions:[],dialogVisible:!1,multipleSelection:[]}},mounted:function(){this.initPositions()},methods:{deleteBatch:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.multipleSelection.forEach((function(e){t.push(e.id)})),e.deleteRequest("/system/basic/pos/deleteBatch/?ids="+t).then((function(n){console.log(t),n&&e.initPositions()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},showEditView:function(e,t){Object.assign(this.updatePos,t),this.updatePos.createDate="",this.dialogVisible=!0},doUpdate:function(){var e=this;this.postRequest("/system/basic/pos/update/",this.updatePos).then((function(t){t&&(e.initPositions(),e.updatePos.name="",e.dialogVisible=!1)}))},handleDelete:function(e,t){var n=this;this.$confirm("此操作将永久删除【"+t.name+"】职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.deleteRequest("/system/basic/pos/delete/"+t.id).then((function(e){e&&n.initPositions()}))})).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},addPosition:function(){var e=this;this.pos.name?this.postRequest("/system/basic/pos/add/",this.pos).then((function(t){t&&(e.initPositions(),e.pos.name="")})):this.$message.error("添加职位不能为空")},initPositions:function(){var e=this;this.getRequest("/system/basic/pos/listAll").then((function(t){t&&(e.positions=t)}))}}},j=$,P=(n("6c16"),Object(r["a"])(j,R,S,!1,null,"36c51262",null)),C=P.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("el-input",{staticClass:"addJlInput",attrs:{size:"small",placeholder:"添加职称","suffix-icon":"el-icon-plus"},model:{value:e.jl.name,callback:function(t){e.$set(e.jl,"name",t)},expression:"jl.name"}}),n("el-select",{attrs:{size:"small",placeholder:"职称等级"},model:{value:e.jl.titleLevel,callback:function(t){e.$set(e.jl,"titleLevel",t)},expression:"jl.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.addJobLevel}},[e._v(" 添加职称 ")])],1),n("div",{staticStyle:{margin:"10px 0px"}},[n("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{border:"",stripe:"",data:e.jls},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"职称",width:"150"}}),n("el-table-column",{attrs:{prop:"titleLevel",label:"职称等级",width:"150"}}),n("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"150"}}),n("el-table-column",{attrs:{prop:"enabled",label:"是否启用",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?n("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):n("el-tag",{attrs:{type:"danger"}},[e._v("未启用")])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.showEditView(t.row)}}},[e._v("编辑 ")]),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return e.deleteHandler(t.row)}}},[e._v("删除 ")])]}}])})],1),n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",size:"small",disabled:0===e.multipleSelection.length},on:{click:e.deleteBatch}},[e._v("批量删除             ")])],1),n("el-dialog",{attrs:{title:"职称编辑",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",[n("table",[n("tr",[n("td",[n("el-tag",[e._v("职称")])],1),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.updateJl.name,expression:"updateJl.name"}],domProps:{value:e.updateJl.name},on:{input:function(t){t.target.composing||e.$set(e.updateJl,"name",t.target.value)}}})])]),n("tr",[n("td",[n("el-tag",[e._v("职称级别")])],1),n("td",[n("el-select",{attrs:{size:"small",placeholder:"职称等级"},model:{value:e.updateJl.titleLevel,callback:function(t){e.$set(e.updateJl,"titleLevel",t)},expression:"updateJl.titleLevel"}},e._l(e.titleLevels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)]),n("tr",[n("td",[n("el-tag",[e._v("是否启用")])],1),n("td",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"禁用"},model:{value:e.updateJl.enabled,callback:function(t){e.$set(e.updateJl,"enabled",t)},expression:"updateJl.enabled"}})],1)])])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.doUpdate}},[e._v("确 定")])],1)])],1)},M=[],O={name:"JoblevelMana",data:function(){return{jl:{name:"",titleLevel:""},updateJl:{name:"",titleLevel:"",enabled:!1},dialogVisible:!1,multipleSelection:[],jls:[],titleLevels:["正高级","副高级","中级","初级","高级"]}},mounted:function(){this.initJls()},methods:{deleteBatch:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=[];e.multipleSelection.forEach((function(e){t.push(e.id)})),e.deleteRequest("/system/basic/joblevel/deleteBatch/?ids="+t).then((function(t){t&&e.initJls()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(e){this.multipleSelection=e},doUpdate:function(){var e=this;this.postRequest("/system/basic/joblevel/update/",this.updateJl).then((function(t){t&&(e.initJls(),e.dialogVisible=!1)}))},addJobLevel:function(){var e=this;this.jl.name&&this.jl.titleLevel?this.postRequest("/system/basic/joblevel/add/",this.jl).then((function(t){t&&e.initJls()})):this.$message.error("请输入职称名!")},initJls:function(){var e=this;this.getRequest("/system/basic/joblevel/listAll").then((function(t){t&&(e.jls=t,e.jl={name:"",titleLevel:""})}))},showEditView:function(e){Object.assign(this.updateJl,e),this.updateJl.createDate="",this.dialogVisible=!0},deleteHandler:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/basic/joblevel/delete/"+e.id).then((function(e){e&&t.initJls()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},J=O,q=(n("8ea3"),Object(r["a"])(J,E,M,!1,null,"e7e3bb2e",null)),D=q.exports,z={name:"SysBasic",components:{JoblevelMana:D,PermissMana:w,EcMana:b,PosMana:C,DepMana:u},data:function(){return{activeName:"depmana"}}},A=z,B=Object(r["a"])(A,i,a,!1,null,"2817ade6",null);t["default"]=B.exports},"8ea3":function(e,t,n){"use strict";n("4fa4")},9326:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},a43d:function(e,t,n){var i=n("d50e"),a=n("9326"),l="​᠎";e.exports=function(e){return i((function(){return!!a[e]()||l[e]()!=l||a[e].name!==e}))}},b7c3:function(e,t,n){"use strict";n("018e")},d1e3:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[],l={name:"SysData"},s=l,o=n("5d22"),c=Object(o["a"])(s,i,a,!1,null,"a549401a",null);t["default"]=c.exports},d446:function(e,t,n){},d6b0:function(e,t,n){"use strict";n("f953")},f86b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"10px"}},[n("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"通过用户名搜索用户...","prefix-icon":"el-icon-search"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search.apply(null,arguments)}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),n("div",{staticClass:"admin-container"},e._l(e.admins,(function(t,i){return n("el-card",{key:i,staticClass:"admin-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.name))]),n("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.deleteAdmin(t)}}})],1),n("div",{staticClass:"img-container"},[n("img",{staticClass:"admin-image",attrs:{name:t.name,title:t.name,src:t.userFace}})]),n("div",{staticClass:"userinfo"},[n("div",[e._v("用户名:"+e._s(t.name))]),n("div",[e._v("手机号码:"+e._s(t.phone))]),n("div",[e._v("电话号码:"+e._s(t.telephone))]),n("div",[e._v("地址:"+e._s(t.address))]),n("div",[e._v("用户状态: "),n("el-switch",{staticStyle:{"margin-left":"10px"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"暂不启用"},on:{change:function(n){return e.enableChange(t)}},model:{value:t.enabled,callback:function(n){e.$set(t,"enabled",n)},expression:"admin.enabled"}})],1),n("div",[e._v(" 用户角色: "),e._l(t.roles,(function(t,i){return n("el-tag",{staticStyle:{"margin-right":"4px"},attrs:{type:"success"}},[e._v(e._s(t.nameZh))])})),n("el-popover",{attrs:{placement:"right",title:"角色列表",width:"200",trigger:"click"},on:{show:function(n){return e.showPop(t)},hide:function(n){return e.hidePop(t)}}},[n("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.selectedRoles,callback:function(t){e.selectedRoles=t},expression:"selectedRoles"}},e._l(e.allRoles,(function(e,t){return n("el-option",{key:t,attrs:{label:e.nameZh,value:e.id}})})),1),n("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-more"},slot:"reference"})],1)],2),n("div",[e._v("备注:"+e._s(t.remark))])])])})),1)])},a=[],l=(n("23db"),n("6afd"),n("f5bd"),{name:"SysAdmin",data:function(){return{admins:[],keywords:"",allRoles:[],selectedRoles:[]}},mounted:function(){this.initAdmin()},methods:{hidePop:function(e){var t=this,n=[];Object.assign(n,e.roles);var i=!1;if(n.length!=this.selectedRoles.length)i=!0;else{for(var a=0;a<n.length;a++)for(var l=n[a],s=0;s<this.selectedRoles.length;s++){var o=this.selectedRoles[s];if(l.id==o){n.splice(a,1),a--;break}}0!=n.length&&(i=!0)}if(i){var c="/system/admin/updateAdminRole?adminId="+e.id;this.selectedRoles.forEach((function(e){c+="&rids="+e})),this.putRequest(c).then((function(e){e&&t.initAdmin()}))}},showPop:function(e){var t=this;this.initAllRoles();var n=e.roles;this.selectedRoles=[],n.forEach((function(e){t.selectedRoles.push(e.id)}))},initAllRoles:function(){var e=this;this.getRequest("/system/admin/roles").then((function(t){t&&(e.allRoles=t)}))},enableChange:function(e){var t=this,n={id:"",enabled:!1};n.id=e.id,n.enabled=e.enabled,console.log(e.username),this.postRequest("/system/admin/update/",n).then((function(e){e&&t.initAdmin()}))},deleteAdmin:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】管理员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/system/admin/delete/"+e.id).then((function(e){e&&t.initAdmin()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},search:function(){this.initAdmin()},initAdmin:function(){var e=this;this.getRequest("/system/admin/listAll/?keywords="+this.keywords).then((function(t){t&&(e.admins=t)}))}}}),s=l,o=(n("d6b0"),n("5d22")),c=Object(o["a"])(s,i,a,!1,null,"622a751a",null);t["default"]=c.exports},f953:function(e,t,n){}}]);
//# sourceMappingURL=chunk-63670f3f.0e8b5e5c.js.map